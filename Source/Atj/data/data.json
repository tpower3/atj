{
    "npcs": [
        "Larry",
        "Mary"
    ],
    "objects": [
        "Vase",
        "Donut",
        "Radio"
    ],
    "triggers": [
        {
            "name": "meet_at_donut",
            "conditions": [
                {
                    "check": "npc_at_location",
                    "npc": "Larry",
                    "location": "Donut"
                },
                {
                    "check": "npc_at_location",
                    "npc": "Mary",
                    "location": "Donut"
                }
            ],
            "actions": [
                "meet_at_donut_complete"
            ]
        }
    ],
    "actions": [
        {
            "name": "simulation_start",
            "signals": [
                {
                    "type": "bind_npc",
                    "npc": "Larry",
                    "routine": "radio_check_routine"
                },
                {
                    "type": "bind_object",
                    "npc": "Radio",
                    "routine": "country"
                }
            ]
        },
        {
            "name": "respond_to_radio_country_music",
            "signals": [
                {
                    "type": "bind_npc",
                    "npc": "Larry",
                    "routine": "radio_check_routine"
                }
            ]
        },
        {
            "name": "respond_to_radio_pop_music",
            "signals": [
                {
                    "type": "bind_npc",
                    "npc": "Larry",
                    "routine": "go_to_donut_routine"
                },
                {
                    "type": "bind_npc",
                    "npc": "Mary",
                    "routine": "go_to_donut_routine"
                }
            ]
        },
        {
            "name": "meet_at_donut_complete",
            "signals ": [
                {
                    "type": "objective",
                    "objective_name": "meet_at_donut",
                    "state": "complete"
                }
            ]
        }
    ],
    "routines": [
        {
            "radio_check_routine": [
                {
                    "type": "behavior",
                    "sync_time": "0.0",
                    "behavior": "walk_to",
                    "target": "Vase"
                },
                {
                    "type": "behavior",
                    "sync_time": "30.0",
                    "behavior": "walk_to",
                    "target": "Radio"
                },
                {
                    "type": "check",
                    "sync_time": "10.0",
                    "behavior": "check_state",
                    "target": "Radio",
                    "outcome": [
                        {
                            "state": "country",
                            "action": "respond_to_radio_country_music"
                        },
                        {
                            "state": "pop",
                            "action": "respond_to_radio_pop_music"
                        }
                    ]
                }
            ],
            "go_to_donut_routine": [
                {
                    "type": "behavior",
                    "sync_time": "3.0",
                    "behavior": "walk_to",
                    "target": "Donut"
                }
            ]
        }
    ]
}